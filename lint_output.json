[{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/playwright.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/sentry.edge.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/sentry.server.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/(vendor)/vendor/analytics/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/(vendor)/vendor/dashboard/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/(vendor)/vendor/layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/(vendor)/vendor/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/(vendor)/vendor/products/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/(vendor)/vendor/settings/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/about/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/_utils/auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/_utils/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/_utils/pagination.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/_utils/response.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/_utils/validation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/analytics/search/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/auth/create-vendor/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/auth/login/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/auth/logout/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/auth/me/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/auth/signup/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/business/[slug]/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/business/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/checkout/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/contact/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/cron/featured-expiry/route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":69,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":69,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2322,2325],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2322,2325],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":72,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":72,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2448,2451],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2448,2451],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":108,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":108,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3536,3539],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3536,3539],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nimport { createClient } from \"@supabase/supabase-js\";\nimport { NextResponse } from \"next/server\";\nimport { sendFeaturedSlotExpiryEmail } from \"@/lib/email\";\nimport { FEATURED_SLOT } from \"@/lib/constants\";\n\n// Admin client for cron jobs (bypass RLS)\nconst supabaseAdmin = createClient(\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\n  process.env.SUPABASE_SERVICE_ROLE_KEY!\n);\n\nexport async function GET(req: Request) {\n  try {\n    const authHeader = req.headers.get(\"authorization\");\n    if (authHeader !== `Bearer ${process.env.CRON_SECRET}`) {\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\n    }\n\n    const now = new Date();\n    // Calculate target expiry range: 3 days from now\n    // We want to catch any expiring within the \"3rd day\" window roughly\n    // Or exactly 3 days ahead.\n    // Let's look for expiry_date between [now + 3d, now + 3d + 24h] if running daily.\n    // Simpler: > now + 3d AND < now + 3d + 1h? No, cron might run anytime.\n    // Best practice: Store last_reminded_at. But we can't change schema easily.\n    // Alternative: Check if expiry is between start of day + 3d and end of day + 3d.\n    \n    // Let's assume this runs once a day at 9am.\n    // We notify for slots expiring on the date \"Today + 3 days\".\n    \n    const reminderDays = FEATURED_SLOT.EXPIRY_REMINDER_DAYS || 3;\n    const targetDate = new Date();\n    targetDate.setDate(now.getDate() + reminderDays);\n    \n    // Start of target day (00:00:00)\n    const startOfTargetDay = new Date(targetDate.setHours(0, 0, 0, 0)).toISOString();\n    // End of target day (23:59:59)\n    const endOfTargetDay = new Date(targetDate.setHours(23, 59, 59, 999)).toISOString();\n\n    const { data: slots, error } = await supabaseAdmin\n      .from(\"featured_slots\")\n      .select(`\n        id,\n        end_date,\n        suburb_label,\n        vendor_id,\n        vendors (\n          business_name,\n          user_id,\n          users (\n            email\n          )\n        )\n      `)\n      .eq(\"status\", \"active\")\n      .gte(\"end_date\", startOfTargetDay)\n      .lte(\"end_date\", endOfTargetDay);\n\n    if (error) {\n      throw error;\n    }\n\n    if (!slots || slots.length === 0) {\n      return NextResponse.json({ success: true, count: 0, message: \"No slots expiring in 3 days\" });\n    }\n\n    let sentCount = 0;\n    const errors: any[] = [];\n\n    // Parallel send (could use batch but logic is custom per user)\n    await Promise.all(slots.map(async (slot: any) => {\n        try {\n            const vendor = slot.vendors;\n            if (!vendor || !vendor.users || !vendor.users.email) {\n                console.warn(`Skipping slot ${slot.id}: No vendor email found`);\n                return;\n            }\n\n            const email = vendor.users.email;\n            const businessName = vendor.business_name || \"Vendor\";\n            const suburb = slot.suburb_label || \"Featured Suburb\";\n            \n            const result = await sendFeaturedSlotExpiryEmail(\n                email,\n                businessName,\n                suburb,\n                slot.end_date\n            );\n\n            if (result.success) {\n                sentCount++;\n            } else {\n                errors.push({ id: slot.id, error: result.error });\n            }\n        } catch (e) {\n            errors.push({ id: slot.id, error: e });\n        }\n    }));\n\n    return NextResponse.json({ \n        success: true, \n        processed: slots.length, \n        sent: sentCount, \n        errors: errors.length > 0 ? errors : undefined \n    });\n\n  } catch (error: any) {\n    console.error(\"Cron failed:\", error);\n    return NextResponse.json(\n      { success: false, error: error.message },\n      { status: 500 }\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/products/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/reviews/route.ts","messages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":64,"column":7,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":64,"endColumn":81,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[1670,1744],"text":"// @ts-expect-error - Supabase types can vary between array/object based on join"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\nimport { createClient } from '@supabase/supabase-js';\n\n// Validate environment variables\nif (!process.env.NEXT_PUBLIC_SUPABASE_URL || !process.env.SUPABASE_SERVICE_ROLE_KEY) {\n  console.error('âŒ Missing required Supabase environment variables');\n  throw new Error('Missing required Supabase environment variables');\n}\n\n// Create admin client for server-side operations\nconst supabase = createClient(\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\n  process.env.SUPABASE_SERVICE_ROLE_KEY!,\n  {\n    auth: {\n      persistSession: false,\n      autoRefreshToken: false,\n    },\n  }\n);\n\nexport async function GET(request: NextRequest) {\n  try {\n    const searchParams = request.nextUrl.searchParams;\n    const businessId = searchParams.get('business_id');\n\n    if (!businessId) {\n      return NextResponse.json(\n        { error: 'Business ID is required' },\n        { status: 400 }\n      );\n    }\n\n    const { data: reviews, error } = await supabase\n      .from('reviews')\n      .select(`\n        id,\n        rating,\n        comment,\n        created_at,\n        helpful_count,\n        verified_purchase,\n        users (\n          first_name,\n          last_name\n        )\n      `)\n      .eq('business_id', businessId)\n      .order('created_at', { ascending: false });\n\n    if (error) {\n      console.error('Database error:', error);\n      return NextResponse.json(\n        { error: 'Failed to fetch reviews' },\n        { status: 500 }\n      );\n    }\n\n    const transformedReviews = reviews.map((review) => {\n\n\n      const usersData = review.users;\n      const user = Array.isArray(usersData) ? usersData[0] : usersData;\n      // @ts-ignore - Supabase types can vary between array/object based on join\n      const customerName = user ? `${user.first_name || ''} ${user.last_name || ''}`.trim() || 'Anonymous' : 'Anonymous';\n\n      return {\n        id: review.id,\n        customerName,\n        rating: review.rating,\n        comment: review.comment,\n        createdAt: review.created_at,\n        helpful: review.helpful_count,\n        verified: review.verified_purchase\n      };\n    });\n\n    return NextResponse.json({ reviews: transformedReviews });\n\n  } catch (error) {\n    console.error('Unexpected API error:', error);\n    return NextResponse.json(\n      { error: 'Internal server error' },\n      { status: 500 }\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/search/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/search/telemetry/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/sentry-example-api/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/vendor/connect/callback/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/vendor/featured-slots/route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'upsertFeaturedQueueEntry' is defined but never used.","line":7,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":27},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'emitPosthogEvent' is defined but never used.","line":13,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":26},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'sanitizeForLogging' is defined but never used.","line":14,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":26},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'minimalEventPayload' is defined but never used.","line":15,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":15,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'forceQueue' is assigned a value but never used.","line":266,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":266,"endColumn":21},{"ruleId":"prefer-const","severity":2,"message":"'reservedSlotId' is never reassigned. Use 'const' instead.","line":354,"column":9,"nodeType":"Identifier","messageId":"useConst","endLine":354,"endColumn":23,"fix":{"range":[10350,10389],"text":"const reservedSlotId = _rpc.data ?? null;"}}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":1,"fixableWarningCount":0,"source":"import { requireAuth } from \"@/app/api/_utils/auth\";\nimport { FEATURED_SLOT } from \"@/lib/constants\";\nimport { ForbiddenError, UnauthorizedError } from \"@/lib/errors\";\nimport type { Database } from \"@/lib/database.types\";\nimport {\n  computeFeaturedQueuePosition,\n  upsertFeaturedQueueEntry,\n} from \"@/lib/featured-slot\";\nimport { logger } from \"@/lib/logger\";\nimport { createFeaturedSlotCheckoutSession } from \"@/lib/stripe\";\nimport { resolveSingleLga } from \"@/lib/suburb-resolver\";\nimport { supabaseAdmin } from \"@/lib/supabase\";\nimport { emitPosthogEvent } from \"@/lib/telemetry-client\";\nimport sanitizeForLogging, {\n  minimalEventPayload,\n} from \"@/lib/telemetry-sanitizer\";\nimport type { SupabaseClient } from \"@supabase/supabase-js\";\nimport { NextRequest, NextResponse } from \"next/server\";\n\ntype FeaturedSlotRow = Database[\"public\"][\"Tables\"][\"featured_slots\"][\"Row\"];\ntype FeaturedQueueRow = Database[\"public\"][\"Tables\"][\"featured_queue\"][\"Row\"];\n\ntype FeaturedSlotSummary = Pick<\n  FeaturedSlotRow,\n  \"id\" | \"suburb_label\" | \"lga_id\" | \"start_date\" | \"end_date\" | \"status\"\n>;\ntype FeaturedQueueSummary = Pick<\n  FeaturedQueueRow,\n  \"id\" | \"lga_id\" | \"suburb_label\" | \"joined_at\" | \"status\"\n>;\n\nasync function fetchVendorAndProfile(\n  dbClient: SupabaseClient<Database>,\n  userId: string\n) {\n  const { data: vendor, error: vendorError } = await dbClient\n    .from(\"vendors\")\n    .select(\"*\")\n    .eq(\"user_id\", userId)\n    .maybeSingle();\n\n  if (vendorError || !vendor) {\n    throw new ForbiddenError(\"Vendor account required\");\n  }\n\n  if (vendor.vendor_status !== \"active\") {\n    throw new ForbiddenError(\"Vendor account is not active\");\n  }\n\n  const { data: profile, error: profileError } = await dbClient\n    .from(\"business_profiles\")\n    .select(\"id, business_name\")\n    .eq(\"user_id\", userId)\n    .maybeSingle();\n\n  if (profileError || !profile) {\n    throw new ForbiddenError(\n      \"Business profile required before purchasing featured placement\"\n    );\n  }\n\n  return { vendor, profile };\n}\n\nfunction formatSlotResponse(slot: FeaturedSlotSummary) {\n  return {\n    id: slot.id,\n    suburbLabel: slot.suburb_label,\n    lgaId: slot.lga_id,\n    startDate: slot.start_date,\n    endDate: slot.end_date,\n    status: slot.status,\n  };\n}\n\nasync function loadActiveSlots(\n  dbClient: SupabaseClient<Database>,\n  vendorId: string\n): Promise<ReturnType<typeof formatSlotResponse>[]> {\n  const now = new Date().toISOString();\n  const { data, error } = await dbClient\n    .from(\"featured_slots\")\n    .select(\"id, suburb_label, lga_id, start_date, end_date, status\")\n    .eq(\"vendor_id\", vendorId)\n    .eq(\"status\", \"active\")\n    .lte(\"start_date\", now)\n    .gte(\"end_date\", now)\n    .order(\"end_date\", { ascending: true });\n\n  if (error) {\n    throw error;\n  }\n\n  return (data ?? []).map(formatSlotResponse);\n}\n\nasync function loadQueueEntries(\n  dbClient: SupabaseClient<Database>,\n  vendorId: string\n): Promise<FeaturedQueueSummary[]> {\n  const { data, error } = await dbClient\n    .from(\"featured_queue\")\n    .select(\"id, lga_id, suburb_label, joined_at, status\")\n    .eq(\"vendor_id\", vendorId)\n    .neq(\"status\", \"expired\")\n    .order(\"joined_at\", { ascending: true });\n\n  if (error) {\n    throw error;\n  }\n\n  return data ?? [];\n}\n\nexport async function GET(req: NextRequest) {\n  try {\n    const authContext = await requireAuth(req);\n    const { vendor, profile } = await fetchVendorAndProfile(\n      authContext.dbClient,\n      authContext.user.id\n    );\n\n    const slots = await loadActiveSlots(authContext.dbClient, vendor.id);\n    const queueEntries = await loadQueueEntries(\n      authContext.dbClient,\n      vendor.id\n    );\n\n    const queueWithPositions = await Promise.all(\n      queueEntries.map(async (entry) => ({\n        id: entry.id,\n        lgaId: entry.lga_id,\n        suburbLabel: entry.suburb_label,\n        status: entry.status,\n        position: await computeFeaturedQueuePosition(\n          authContext.dbClient,\n          entry.lga_id as number,\n          entry\n        ),\n      }))\n    );\n\n    return NextResponse.json(\n      {\n        success: true,\n        data: {\n          businessProfileId: profile.id,\n          slots,\n          queue: queueWithPositions,\n        },\n      },\n      { status: 200 }\n    );\n  } catch (error) {\n    if (error instanceof UnauthorizedError) {\n      return NextResponse.json(\n        {\n          success: false,\n          error: {\n            code: \"UNAUTHORIZED\",\n            message: error.message,\n          },\n        },\n        { status: 401 }\n      );\n    }\n\n    if (error instanceof ForbiddenError) {\n      return NextResponse.json(\n        {\n          success: false,\n          error: {\n            code: \"FORBIDDEN\",\n            message: error.message,\n          },\n        },\n        { status: 403 }\n      );\n    }\n\n    logger.error(\"featured_slots_list_error\", { error });\n    return NextResponse.json(\n      {\n        success: false,\n        error: {\n          code: \"FEATURED_SLOTS_FAILED\",\n          message:\n            error instanceof Error\n              ? error.message\n              : \"Unable to fetch featured placement\",\n        },\n      },\n      { status: 500 }\n    );\n  }\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const authContext = await requireAuth(req);\n    const { vendor, profile } = await fetchVendorAndProfile(\n      authContext.dbClient,\n      authContext.user.id\n    );\n    const useMockCheckout = process.env.FEATURED_SLOT_CHECKOUT_MODE === \"mock\";\n\n    const body = await req.json();\n    const suburbInput = (body?.suburb || \"\").trim();\n    const lgaId = body?.lga_id as number | undefined;\n\n    if (!suburbInput && !lgaId) {\n      return NextResponse.json(\n        {\n          success: false,\n          error: {\n            code: \"SUBURB_REQUIRED\",\n            message: \"Please provide the suburb you want to feature in\",\n          },\n        },\n        { status: 400 }\n      );\n    }\n\n    let targetLgaId = lgaId ?? null;\n    let resolvedSuburbLabel = suburbInput || null;\n    let resolvedLgaName: string | null = null;\n\n    if (!targetLgaId && suburbInput) {\n      const resolved = await resolveSingleLga(\n        authContext.dbClient,\n        suburbInput\n      );\n      if (!resolved) {\n        return NextResponse.json(\n          {\n            success: false,\n            error: {\n              code: \"SUBURB_NOT_FOUND\",\n              message:\n                \"We couldn't match that suburb to a Melbourne council. Please try another suburb.\",\n            },\n          },\n          { status: 404 }\n        );\n      }\n      targetLgaId = resolved.lgaId;\n      resolvedLgaName = resolved.lgaName;\n      if (!resolvedSuburbLabel) {\n        resolvedSuburbLabel = resolved.suburbLabel || resolved.lgaName;\n      }\n    }\n\n    if (!targetLgaId) {\n      return NextResponse.json(\n        {\n          success: false,\n          error: {\n            code: \"LGA_REQUIRED\",\n            message: \"Valid council ID required\",\n          },\n        },\n        { status: 400 }\n      );\n    }\n\n    const forceQueue = req.headers.get(\"x-featured-force-queue\") === \"true\";\n\n    const { data: lgaRecord } = await authContext.dbClient\n      .from(\"lgas\")\n      .select(\"featured_slot_cap, name\")\n      .eq(\"id\", targetLgaId)\n      .maybeSingle();\n\n    if (!resolvedSuburbLabel) {\n      resolvedSuburbLabel =\n        suburbInput || resolvedLgaName || lgaRecord?.name || \"Featured\";\n    }\n\n    const slotCap =\n      lgaRecord?.featured_slot_cap ?? FEATURED_SLOT.MAX_SLOTS_PER_LGA;\n    const safeSuburbLabel =\n      resolvedSuburbLabel || resolvedLgaName || lgaRecord?.name || \"Featured\";\n\n    const now = new Date().toISOString();\n\n    // FIFO SCHEDULING LOGIC\n    // Query all active and scheduled slots that end in the future\n    const { data: futureSlots } = await authContext.dbClient\n      .from(\"featured_slots\")\n      .select(\"end_date\")\n      .eq(\"lga_id\", targetLgaId)\n      .in(\"status\", [\"active\", \"scheduled\"])\n      .gt(\"end_date\", now)\n      .order(\"end_date\", { ascending: true });\n\n    const sortedSlots = futureSlots || [];\n    let calculatedStartDate = new Date(); // Default to now\n\n    // If we are at or over capacity, find when the next slot opens\n    // The slot that opens up capacity is the one that finishes earliest among the block that is \"blocking\" us.\n    // If Cap=5, and we have 5 slots, the 1st one to finish (index 0) allows the 6th one to start.\n    // If we have 10 slots (stacked up), and Cap=5.\n    // We need to be the 11th.\n    // The slots freeing up capacity are at indices: 0 (frees for 6th), 1 (frees for 7th)... 5 (frees for 11th).\n    // General formula: Index to follow = (current_count - cap).\n    // If count=5, cap=5 -> index 0. Start after slot[0].\n    // If count=1, cap=5 -> index -4. (count < cap), so start now.\n    \n    // However, we also need to respect that we can't start *before* now.\n    \n    if (sortedSlots.length >= slotCap) {\n        const freeingSlotIndex = sortedSlots.length - slotCap;\n        const freeingSlot = sortedSlots[freeingSlotIndex];\n        // Add a small buffer (e.g. 1 second or 1 minute) to avoid exact-boundary overlap issues with DB constraints\n        const releaseDate = new Date(freeingSlot.end_date);\n        calculatedStartDate = new Date(releaseDate.getTime() + 1000 * 60); // +1 minute\n    }\n\n    const startDateIso = calculatedStartDate.toISOString();\n    const endDateIso = new Date(\n        calculatedStartDate.getTime() + FEATURED_SLOT.DURATION_DAYS * 24 * 60 * 60 * 1000\n    ).toISOString();\n\n    const siteUrl = process.env.NEXT_PUBLIC_SITE_URL || \"http://localhost:3000\";\n    const mockCheckout = useMockCheckout\n      ? {\n          id: `cs_mock_${Date.now()}`,\n          url: `${siteUrl}/mock-featured-checkout`,\n        }\n      : null;\n\n    if (!supabaseAdmin) {\n      throw new Error(\"Supabase admin client not configured\");\n    }\n\n    // Try reserve with the calculated dates\n    const rpcResult = await supabaseAdmin.rpc(\n      \"fn_try_reserve_featured_slot\",\n      {\n        p_vendor_id: vendor.id,\n        p_business_profile_id: profile.id,\n        p_lga_id: targetLgaId,\n        p_suburb_label: safeSuburbLabel,\n        p_start_date: startDateIso,\n        p_end_date: endDateIso,\n      }\n    );\n    \n    const _rpc = rpcResult as unknown as {\n      data?: string | null;\n      error?: unknown;\n    };\n    const reservationError = _rpc.error;\n    let reservedSlotId = _rpc.data ?? null;\n\n    if (reservationError) {\n      let message = \"Reservation failed\";\n        if (\n          reservationError &&\n          typeof reservationError === \"object\" &&\n          \"message\" in reservationError\n        ) {\n          message = String(\n            (reservationError as unknown as { message?: unknown }).message ??\n              message\n          );\n        } else if (typeof reservationError === \"string\") {\n          message = reservationError;\n        }\n\n        // Map known DB consistency errors to friendly messages\n        if (message.includes(\"lga_cap_exceeded\")) {\n           // This shouldn't happen with our calculation unless race condition\n           return NextResponse.json(\n             {\n               success: false,\n               error: {\n                 code: \"LGA_CAP_EXCEEDED\",\n                 message: \"This slot became unavailable during processing. Please try again.\",\n               },\n             },\n             { status: 409 }\n           );\n        }\n\n        if (message.includes(\"vendor_cap_exceeded\")) {\n            return NextResponse.json(\n              {\n                success: false,\n                error: {\n                  code: \"VENDOR_CAP_EXCEEDED\",\n                  message: \"You have reached your featured slots cap\",\n                },\n              },\n              { status: 409 }\n            );\n        }\n        \n        logger.error(\"featured_slot_reservation_error\", {\n            error: reservationError,\n        });\n\n        return NextResponse.json(\n            {\n              success: false,\n              error: {\n                code: \"RESERVATION_FAILED\",\n                message: \"Unable to reserve featured slot\",\n              },\n            },\n            { status: 500 }\n        );\n    }\n\n    if (!reservedSlotId) {\n        return NextResponse.json(\n          {\n            success: false,\n            error: {\n              code: \"RESERVATION_FAILED\",\n              message: \"Unable to reserve featured slot\",\n            },\n          },\n          { status: 500 }\n        );\n    }\n\n    let session: {\n        id?: string;\n        url?: string | null;\n        metadata?: Record<string, unknown>;\n    } | null = null;\n\n    if (mockCheckout) {\n        session = mockCheckout as { id: string; url: string };\n    } else {\n        const created = await createFeaturedSlotCheckoutSession({\n          vendorId: vendor.id,\n          businessProfileId: profile.id,\n          lgaId: targetLgaId,\n          suburbLabel: safeSuburbLabel,\n          successUrl: `${siteUrl}/vendor/dashboard?featured=success`,\n          cancelUrl: `${siteUrl}/vendor/dashboard?featured=cancelled`,\n          vendorStripeAccountId: vendor.stripe_account_id ?? undefined,\n          vendorTier: vendor.tier ?? undefined,\n          metadata: {\n            reserved_slot_id: String(reservedSlotId),\n          },\n        });\n\n        session = {\n          id: created.id,\n          url: created.url,\n          metadata: created.metadata ?? undefined,\n        };\n    }\n\n    return NextResponse.json(\n      {\n        success: true,\n        data: {\n          checkoutUrl: session?.url ?? null,\n          sessionId: session?.id ?? null,\n          reservedSlotId: reservedSlotId ? String(reservedSlotId) : null,\n          scheduledStartDate: startDateIso, // Return this for UI feedback\n        },\n      },\n      { status: 201 }\n    );\n  } catch (error) {\n    if (error instanceof UnauthorizedError) {\n      return NextResponse.json(\n        {\n          success: false,\n          error: {\n            code: \"UNAUTHORIZED\",\n            message: error.message,\n          },\n        },\n        { status: 401 }\n      );\n    }\n\n    if (error instanceof ForbiddenError) {\n      return NextResponse.json(\n        {\n          success: false,\n          error: {\n            code: \"FORBIDDEN\",\n            message: error.message,\n          },\n        },\n        { status: 403 }\n      );\n    }\n\n    logger.error(\"featured_slot_purchase_error\", { error });\n    return NextResponse.json(\n      {\n        success: false,\n        error: {\n          code: \"FEATURED_SLOT_FAILED\",\n          message:\n            error instanceof Error\n              ? error.message\n              : \"Unable to process featured placement\",\n        },\n      },\n      { status: 500 }\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/vendor/onboarding/status/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/vendor/products/[id]/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/vendor/products/payload.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/vendor/products/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/vendor/profile/route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":60,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":60,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1948,1951],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1948,1951],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\nimport { createSupabaseClient, supabase, supabaseAdmin } from '@/lib/supabase';\nimport { logger } from '@/lib/logger';\nimport {\n  successResponse,\n  unauthorizedResponse,\n  internalErrorResponse,\n  notFoundResponse,\n} from '@/app/api/_utils/response';\nimport { withAuthRateLimit } from '@/middleware/rateLimit';\nimport { withCors } from '@/middleware/cors';\nimport { withLogging } from '@/middleware/logging';\nimport { withErrorHandler } from '@/middleware/errorHandler';\n\nasync function handler(req: NextRequest) {\n  try {\n    // 1. Authenticate Request\n    const authHeader = req.headers.get('Authorization');\n    if (!authHeader?.startsWith('Bearer ')) {\n      return unauthorizedResponse('Missing or invalid token');\n    }\n    \n    const token = authHeader.split(' ')[1];\n    \n    // Verify user with Supabase\n    const { data: { user }, error: authError } = await supabase.auth.getUser(token);\n    \n    if (authError || !user) {\n      return unauthorizedResponse('Invalid session');\n    }\n\n    const dbClient = supabaseAdmin || createSupabaseClient(token);\n\n    // 2. Handle GET (Fetch Profile)\n    if (req.method === 'GET') {\n      const { data: profile, error } = await dbClient\n        .from('business_profiles')\n        .select('*')\n        .eq('user_id', user.id)\n        .single();\n      \n      if (error && error.code !== 'PGRST116') { // PGRST116 is \"not found\"\n         logger.error('Error fetching profile', error);\n         return internalErrorResponse('Failed to fetch profile');\n      }\n      \n      if (!profile) {\n        return notFoundResponse('Business profile not found');\n      }\n      \n      return successResponse({ profile });\n    }\n\n    // 3. Handle PATCH (Update Profile)\n    if (req.method === 'PATCH') {\n      const body = await req.json();\n      \n      // Allowlist of updatable fields\n      const { template_key, theme_config } = body;\n      const updates: any = {};\n      \n      if (template_key !== undefined) updates.template_key = template_key;\n      if (theme_config !== undefined) updates.theme_config = theme_config;\n      \n      if (Object.keys(updates).length === 0) {\n        return successResponse({ message: 'No changes provided' });\n      }\n\n      const { data: updatedProfile, error: updateError } = await dbClient\n        .from('business_profiles')\n        .update(updates)\n        .eq('user_id', user.id)\n        .select()\n        .single();\n        \n      if (updateError) {\n        logger.error('Error updating profile', updateError);\n        return internalErrorResponse('Failed to update profile');\n      }\n      \n      return successResponse({ profile: updatedProfile });\n    }\n\n    return new NextResponse('Method Not Allowed', { status: 405 });\n\n  } catch (error) {\n    logger.error('Profile API error', error as Error);\n    return internalErrorResponse('Internal server error');\n  }\n}\n\nexport const GET = withErrorHandler(withLogging(withCors(withAuthRateLimit(handler))));\nexport const PATCH = withErrorHandler(withLogging(withCors(withAuthRateLimit(handler))));\n","usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/vendor/tier/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/webhook/stripe/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/webhooks/stripe/handler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/api/webhooks/stripe/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/auth/login/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/auth/signup/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/blog/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/business/[slug]/not-found.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/business/[slug]/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Suspense' is defined but never used.","line":2,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":18},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'BusinessHeader' is defined but never used.","line":3,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":24},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'BusinessInfo' is defined but never used.","line":4,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'BusinessContact' is defined but never used.","line":5,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":25},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'BusinessProducts' is defined but never used.","line":6,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":26},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'BusinessReviews' is defined but never used.","line":7,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":25},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'StickyActionBar' is defined but never used.","line":8,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":25},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ImageGallery' is defined but never used.","line":9,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'BusinessShowcase' is defined but never used.","line":10,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":26},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Container' is defined but never used.","line":11,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ProductsSkeleton' is defined but never used.","line":191,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":191,"endColumn":26},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ReviewsSkeleton' is defined but never used.","line":210,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":210,"endColumn":25}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { notFound } from 'next/navigation';\nimport { Suspense } from 'react';\nimport { BusinessHeader } from '@/components/business/BusinessHeader';\nimport { BusinessInfo } from '@/components/business/BusinessInfo';\nimport { BusinessContact } from '@/components/business/BusinessContact';\nimport { BusinessProducts } from '@/components/business/BusinessProducts';\nimport { BusinessReviews } from '@/components/business/BusinessReviews';\nimport { StickyActionBar } from '@/components/business/StickyActionBar';\nimport { ImageGallery } from '@/components/business/ImageGallery';\nimport { BusinessShowcase } from '@/components/business/BusinessShowcase';\nimport { Container } from '@/components/layout/Container';\nimport { BusinessProfileRenderer } from '@/components/business/templates/BusinessProfileRenderer';\n\ninterface BusinessPageProps {\n  params: Promise<{\n    slug: string;\n  }>;\n}\n\ninterface BusinessImage {\n  id: string;\n  url: string;\n  alt: string;\n  caption?: string;\n}\n\ninterface BusinessData {\n  id: string;\n  name: string;\n  description: string;\n  suburb: string;\n  category: string;\n  slug: string;\n  isVendor: boolean;\n  vendorId?: string;\n  productCount: number;\n  verified: boolean;\n  tier: string;\n  createdAt: string;\n  profileImageUrl?: string;\n  phone?: string;\n  email?: string;\n  website?: string;\n  address?: string;\n  businessHours: Record<string, unknown>;\n  specialties: string[];\n  socialMedia: Record<string, string>;\n  rating: number;\n  reviewCount: number;\n  images: BusinessImage[];\n  templateKey?: string;\n  themeConfig?: Record<string, unknown>;\n}\n\nfunction normalizeBusinessData(raw: Record<string, unknown>): BusinessData {\n  const toStringValue = (value: unknown, fallback = \"\"): string =>\n    typeof value === \"string\" ? value : fallback;\n  const toNumberValue = (value: unknown, fallback = 0): number =>\n    typeof value === \"number\"\n      ? value\n      : typeof value === \"string\" && !Number.isNaN(Number(value))\n      ? Number(value)\n      : fallback;\n\n  const businessHours =\n    raw.businessHours && typeof raw.businessHours === \"object\"\n      ? (raw.businessHours as Record<string, unknown>)\n      : {};\n\n  const socialMedia =\n    raw.socialMedia && typeof raw.socialMedia === \"object\"\n      ? (Object.entries(raw.socialMedia) as Array<[string, unknown]>).reduce(\n          (acc, [key, value]) => {\n            if (typeof value === \"string\") {\n              acc[key] = value;\n            }\n            return acc;\n          },\n          {} as Record<string, string>\n        )\n      : {};\n\n  const specialties = Array.isArray(raw.specialties)\n    ? raw.specialties.filter((item): item is string => typeof item === \"string\")\n    : [];\n\n  const images: BusinessImage[] = Array.isArray(raw.images)\n    ? raw.images\n        .filter((img): img is string | Record<string, unknown> => Boolean(img))\n        .map((value, index) => {\n          if (typeof value === \"string\") {\n            return {\n              id: `${raw.id ?? \"image\"}-${index}`,\n              url: value,\n              alt: `${raw.name ?? \"Business\"} image ${index + 1}`,\n            };\n          }\n\n          const record = value as Record<string, unknown>;\n          const url = typeof record.url === \"string\" ? record.url : \"\";\n          return {\n            id:\n              typeof record.id === \"string\"\n                ? record.id\n                : `${raw.id ?? \"image\"}-${index}`,\n            url,\n            alt:\n              typeof record.alt === \"string\"\n                ? record.alt\n                : `${raw.name ?? \"Business\"} image ${index + 1}`,\n            caption:\n              typeof record.caption === \"string\"\n                ? record.caption\n                : undefined,\n          };\n        })\n    : [];\n\n  return {\n    id: toStringValue(raw.id, \"\"),\n    name: toStringValue(raw.name, \"Business\"),\n    description: toStringValue(raw.description, \"\"),\n    suburb: toStringValue(raw.suburb, \"Melbourne\"),\n    category: toStringValue(raw.category, \"General\"),\n    slug: toStringValue(raw.slug, \"\"),\n    isVendor: raw.isVendor === true,\n    vendorId: typeof raw.vendorId === \"string\" ? raw.vendorId : undefined,\n    productCount: toNumberValue(raw.productCount, 0),\n    verified: raw.verified === true,\n    tier: toStringValue(raw.tier, \"basic\"),\n    createdAt: toStringValue(raw.createdAt, \"\"),\n    profileImageUrl: typeof raw.profileImageUrl === \"string\" ? raw.profileImageUrl : undefined,\n    phone: typeof raw.phone === \"string\" ? raw.phone : undefined,\n    email: typeof raw.email === \"string\" ? raw.email : undefined,\n    website: typeof raw.website === \"string\" ? raw.website : undefined,\n    address: typeof raw.address === \"string\" ? raw.address : undefined,\n    businessHours,\n    specialties,\n    socialMedia,\n    rating: toNumberValue(raw.rating, 0),\n    reviewCount: toNumberValue(raw.reviewCount, 0),\n    images,\n    templateKey: typeof raw.templateKey === \"string\" ? raw.templateKey : undefined,\n    themeConfig: raw.themeConfig && typeof raw.themeConfig === \"object\" ? (raw.themeConfig as Record<string, unknown>) : undefined,\n  };\n}\n\nexport default async function BusinessPage({ params }: BusinessPageProps) {\n  const { slug } = await params;\n\n  // Fetch business data from API\n  const business = await getBusinessBySlug(slug);\n\n  if (!business) {\n    notFound();\n  }\n\n  return (\n    <BusinessProfileRenderer \n      business={business} \n      templateKey={business.templateKey || \"standard\"} \n      themeConfig={business.themeConfig} \n    />\n  );\n}\n\n// Fetch business data from API\nasync function getBusinessBySlug(slug: string): Promise<BusinessData | null> {\n  try {\n    const baseUrl = process.env.NEXT_PUBLIC_SITE_URL || 'http://localhost:3000';\n    const response = await fetch(`${baseUrl}/api/business/${slug}`, {\n      cache: 'no-store', // Ensure fresh data\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    if (!response.ok) {\n      console.error(`API error: ${response.status} ${response.statusText}`);\n      return null;\n    }\n\n    const data = await response.json();\n    return data.business ? normalizeBusinessData(data.business) : null;\n  } catch (error) {\n    console.error('Error fetching business data:', error);\n    return null;\n  }\n}\n\nfunction ProductsSkeleton() {\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n      <div className=\"animate-pulse space-y-4\">\n        <div className=\"h-6 bg-gray-200 rounded w-1/3\"></div>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {[...Array(4)].map((_, i) => (\n            <div key={i} className=\"border border-gray-200 rounded-lg p-4\">\n              <div className=\"h-32 bg-gray-200 rounded mb-3\"></div>\n              <div className=\"h-4 bg-gray-200 rounded mb-2\"></div>\n              <div className=\"h-3 bg-gray-200 rounded w-2/3\"></div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction ReviewsSkeleton() {\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n      <div className=\"animate-pulse space-y-4\">\n        <div className=\"h-6 bg-gray-200 rounded w-1/4\"></div>\n        {[...Array(3)].map((_, i) => (\n          <div key={i} className=\"border-b border-gray-200 pb-4 last:border-b-0\">\n            <div className=\"flex space-x-3\">\n              <div className=\"w-10 h-10 bg-gray-200 rounded-full\"></div>\n              <div className=\"flex-1 space-y-2\">\n                <div className=\"h-4 bg-gray-200 rounded w-1/4\"></div>\n                <div className=\"h-3 bg-gray-200 rounded\"></div>\n                <div className=\"h-3 bg-gray-200 rounded w-3/4\"></div>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport async function generateMetadata({ params }: BusinessPageProps) {\n  const { slug } = await params;\n  const business = await getBusinessBySlug(slug);\n\n  if (!business) {\n    return {\n      title: 'Business Not Found - SuburbMates',\n    };\n  }\n\n  return {\n    title: `${business.name} - ${business.suburb || 'Melbourne'} | SuburbMates`,\n    description: business.description || `${business.name} - Local business in ${business.suburb || 'Melbourne'}, Melbourne. ${business.category || 'Services'}.`,\n    openGraph: {\n      title: `${business.name} - ${business.suburb || 'Melbourne'}`,\n      description: business.description,\n      type: 'business.business',\n      locale: 'en_AU',\n      images: business.profileImageUrl\n        ? [\n            {\n              id: `${business.id}-hero`,\n              url: business.profileImageUrl,\n              alt: `${business.name} profile image`,\n            },\n          ]\n        : [],\n    },\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/contact/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/dashboard/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/directory/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/global-error.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/help/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/marketplace/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/pricing/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/products/[slug]/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/robots.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/sentry-example-page/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/app/sitemap.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/analytics/BusinessAnalytics.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/analytics/GoogleAnalytics.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/business/BusinessContact.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/business/BusinessHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/business/BusinessInfo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/business/BusinessProducts.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/business/BusinessReviews.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/business/BusinessShowcase.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/business/ImageGallery.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/business/StickyActionBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/business/templates/BusinessProfileRenderer.tsx","messages":[],"suppressedMessages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":75,"column":13,"nodeType":"JSXOpeningElement","endLine":79,"endColumn":15,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/directory/DirectoryFilters.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/directory/DirectoryHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/directory/DirectoryListing.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/directory/DirectorySearch.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/directory/FilterInputs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/directory/MobileFilterDrawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/home/BrowseSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/home/CTASection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/home/FAQSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/home/FeaturedSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/home/FreshSignals.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/home/HowItWorks.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/home/StaticHero.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/home/WhyJoinSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/layout/Container.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/layout/Footer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/layout/Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/layout/MobileNav.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/marketplace/ProductCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/modals/FeaturedModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/modals/SignupModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/seo/StructuredData.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/ui/LazyBusinessCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/ui/LazyImage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/ui/button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/ui/card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/ui/input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/ui/modal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/ui/separator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/components/vendor/TemplateSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/contexts/AuthContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/hooks/useScrollAnimation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/hooks/useVendorProducts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/instrumentation-client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/instrumentation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/lib/analytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/lib/auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/lib/constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/lib/database.types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/lib/email.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/lib/errors.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/lib/featured-slot.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/lib/images.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/lib/logger.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/lib/search.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/lib/slug-utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/lib/stripe-config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/lib/stripe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/lib/suburb-resolver.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/lib/supabase.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/lib/telemetry-client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/lib/telemetry-sanitizer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/lib/telemetry.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/lib/tier-utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/lib/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/lib/utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/lib/validation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/lib/vendor-downgrade.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/middleware/auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/middleware/cors.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/middleware/errorHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/middleware/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/middleware/logging.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/src/middleware/rateLimit.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tailwind.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/e2e/basic.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/e2e/dispute-gating.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/e2e/downgrade-fifo.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/e2e/featured-slots.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/e2e/mobile-optimization.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/e2e/page-button-scan.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/e2e/product-crud-caps.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/e2e/search-telemetry.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/e2e/utils/cta-helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/e2e/utils/page-audits.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/e2e/vendor-auth.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/e2e/vendor-page-scan.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/e2e/webhook.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/unit/api/_utils/pagination.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/unit/business-api.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/unit/deprecated-webhook-route.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/unit/featured-slot.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/unit/featured-slots-api.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/unit/search-telemetry.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/unit/slug-utils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/unit/stripe-create-session.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/unit/suburb-resolver.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/unit/telemetry-sanitizer.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/unit/tier-utils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/unit/vendor-downgrade.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/unit/webhook-handler.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/utils/env.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/utils/stripe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/utils/supabase.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/tests/utils/vendor-fixture.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/carlg/Documents/PROJECTS/SuburbmatesMelb/vitest.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
